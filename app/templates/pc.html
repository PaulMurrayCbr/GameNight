{% extends "/layout.html" %} {% block title %}{{pc.name}}{% endblock %}
{% block title_heading %}
<h1>{{pc.name}} {{hp(pcinfo.totalhp)}}</h1>
{% endblock %} {% block content %}

<script type="text/javascript">
  $(function() {
    $("#showEditPc").click(function(e) {
      console.log("showEditPc");
      e.stopPropagation();
      $('#SHOWPC').hide();
      $('#EDITPC').show();
    });

    $("#cancelEditPc").click(function(e) {
      console.log("cancelEditPc");
      e.stopPropagation();
      $('#EDITPC').hide();
      $('#SHOWPC').show();
    });

    $("#doEditPc").click(function(e) {
      console.log("doEditPc");
      e.stopPropagation();
      $('#EDITPCFORM').submit();
    });

    $("#showAddHpType").click(function(e) {
      console.log("showAddHpType");
      e.stopPropagation();
      $('#SHOWADDHPTYPE').hide();
      $('#EDITADDHPTYPE').show();
    });

    $("#cancelAddHpType").click(function(e) {
      console.log("cancelAddHpType");
      e.stopPropagation();
      $('#EDITADDHPTYPE').hide();
      $('#SHOWADDHPTYPE').show();
    });

    $("#doAddHpType").click(function(e) {
      console.log("doAddHpType");
      e.stopPropagation();
      $('#ADDHPTYPEFORM').submit();
    });

  });
</script>

<div>
	<div id="SHOWPC" style="display: block;">
		{{pc.name}} (aka: <strong>{{pc.abbrev}}</strong>) - {{pc.pname}}
		<button class="btn  btn-sm  btn-default" id="showEditPc">Edit</button>
	</div>

	<div id="EDITPC" style="display: none;">
		<form action="update.do" method="post" id="EDITPCFORM"
			class="form-inline" style="display: inline;">
			<span class="form-group"> {{ updatepc_form.hidden_tag() }} <label
				for="editpc-name">Name</label> {{ updatepc_form.name(size=20,
				class_='form-control', id="editpc-name") }} <label
				for="editpc-abbrev"><small>aka:</small></label> {{
				updatepc_form.abbrev(size=10, class_='form-control small sm',
				id="editpc-abbrev") }} <label for="editpc-pname">Player</label> {{
				updatepc_form.pname(size=20, class_='form-control',
				id="editpc-pname")}}
				</p>
			</span>
		</form>
		<button class="btn btn-default" id="cancelEditPc">Cancel</button>
		<button class="btn btn-primary" id="doEditPc">Update</button>
	</div>

	<div id="SHOWADDHPTYPE" style="display: block;">
		New HP
		<button class="btn  btn-sm  btn-default" id="showAddHpType">Add</button>
	</div>
	<div id="EDITADDHPTYPE" style="display: none;">
		<form action="addhptype.do" method="post" id="ADDHPTYPEFORM"
			class="form-inline" style="display: inline;">
			<span class="form-group"> {{ newhp_form.hidden_tag() }} <label
				for="newhp-source">Source</label> {{ newhp_form.source(size=20,
				class_='form-control', id="newhp-source") }} <label for="newhp-max">Max</label>
				{{ newhp_form.max(size=3, class_='form-control', id="newhp-max") }}
				<label for="newhp-ablative_only">(ablative only)</label> {{
				newhp_form.ablative_only(class_='form-control',
				id="newhp-ablative_only") }}
			</span>
		</form>
		<button class="btn btn-default" id="cancelAddHpType">Cancel</button>
		<button class="btn btn-primary" id="doAddHpType">Add</button>
	</div>


	<h2>Things I like to do</h2>
	<p></p>


	<h2>Things affecting me</h2>
	<p></p>

</div>

{% endblock %}
